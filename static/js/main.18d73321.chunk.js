(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{12:function(e,t,a){},13:function(e,t,a){},14:function(e,t,a){"use strict";a.r(t);var l=a(0),n=a.n(l),r=a(3),s=a.n(r),c=(a(12),a(13),a(1));var i=()=>n.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24",fill:"white"},n.a.createElement("rect",{x:"3",y:"5",width:"12",height:"2",rx:"1"}),n.a.createElement("rect",{x:"3",y:"11",width:"12",height:"2",rx:"1"}),n.a.createElement("rect",{x:"3",y:"17",width:"12",height:"2",rx:"1"}),n.a.createElement("polygon",{points:"17,5 17,19 22,12",fill:"white"}));var m=()=>{const[e,t]=Object(l.useState)(!0),[a,r]=Object(l.useState)(!1),[s,m]=Object(l.useState)(!0);return n.a.createElement("div",{className:`sidebar bg-black ${e?"w-64":"w-16"} h-screen shadow-md transition-all duration-300`},n.a.createElement("div",{className:"flex items-center"},s&&n.a.createElement("img",{src:"/icon.png",alt:"Toggle Sidebar",className:"w-30 h-10 mt-4 filter invert"}),n.a.createElement("button",{onClick:()=>{t(!e),m(!e)},className:"text-white p-2 w-10 h-10 focus:outline-none hover:bg-gray-800 ml-5 relative z-10"},n.a.createElement(i,null))),n.a.createElement("ul",{className:"space-y-2 p-4 mt-10"},n.a.createElement("li",null,n.a.createElement("button",{className:"flex items-center w-full text-left p-2 text-white hover:bg-gray-800 rounded bg-black",onClick:()=>r(!a)},n.a.createElement(c.a,{className:"mr-2 text-white"}),e&&n.a.createElement("span",null,"Systems")),e&&a&&n.a.createElement("ul",{className:"ml-4 space-y-1 bg-black"},n.a.createElement("li",null,n.a.createElement("button",{className:"flex items-center w-full text-white p-2 hover:bg-gray-800 rounded bg-black"},n.a.createElement(c.b,{className:"mr-2 text-white"}),e&&n.a.createElement("span",null,"System Code"))),n.a.createElement("li",null,n.a.createElement("button",{className:"flex items-center w-full text-white p-2 hover:bg-gray-800 rounded bg-black"},n.a.createElement(c.b,{className:"mr-2 text-white"}),e&&n.a.createElement("span",null,"Properties"))),n.a.createElement("li",null,n.a.createElement("button",{className:"flex items-center w-full text-white p-2 hover:bg-gray-800 rounded bg-black"},n.a.createElement(c.b,{className:"mr-2 text-white"}),e&&n.a.createElement("span",null,"Menus"))),n.a.createElement("li",null,n.a.createElement("button",{className:"flex items-center w-full text-white p-2 hover:bg-gray-800 rounded bg-black"},n.a.createElement(c.b,{className:"mr-2 text-white"}),e&&n.a.createElement("span",null,"API List"))))),n.a.createElement("li",null,n.a.createElement("button",{className:"flex items-center w-full text-left p-2 text-white hover:bg-gray-800 rounded bg-black"},n.a.createElement(c.a,{className:"mr-2 text-white"}),e&&n.a.createElement("span",null,"Users and Groups"))),n.a.createElement("li",null,n.a.createElement("button",{className:"flex items-center w-full text-left p-2 text-white hover:bg-gray-800 rounded bg-black"},n.a.createElement(c.a,{className:"mr-2 text-white"}),e&&n.a.createElement("span",null,"Competition")))))};var o=()=>{const[e,t]=n.a.useState((new Date).toLocaleTimeString()),[a,l]=n.a.useState(100),[r,s]=n.a.useState("4G"),[c,i]=n.a.useState("Full");return n.a.useEffect(()=>{const e=setInterval(()=>{t((new Date).toLocaleTimeString())},1e3);return()=>clearInterval(e)},[]),n.a.useEffect(()=>{(navigator.getBattery?navigator.getBattery():Promise.resolve({level:1})).then(e=>l(Math.round(100*e.level)));const e=()=>s(navigator.onLine?"4G":"No Connection");return e(),window.addEventListener("online",e),window.addEventListener("offline",e),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",e)}},[]),n.a.useEffect(()=>{const e=["No Signal","Weak","Fair","Good","Full"],t=setInterval(()=>{const t=Math.floor(Math.random()*e.length);i(e[t])},5e3);return()=>clearInterval(t)},[]),n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"bg-gray-800 text-white p-2 flex justify-between items-center text-sm fixed top-0 w-full z-10"},n.a.createElement("span",{className:"px-0.5 md:hidden"},e),n.a.createElement("div",{className:"flex items-center mr-16 md:hidden"},n.a.createElement("span",{className:"px-1"},r),n.a.createElement("span",{className:"px-1"},"\ud83d\udd0b ",a,"%"),n.a.createElement("span",{className:"px-1"},"\ud83d\udcf6 "))))};const u=e=>{let{item:t,onDelete:a,onEdit:r,isOpen:s,toggleOpen:c}=e;const[i,m]=Object(l.useState)(!1),[o,d]=Object(l.useState)(t.title);return n.a.createElement("li",null,n.a.createElement("div",{className:"flex items-center justify-between"},i?n.a.createElement("div",{className:"flex flex-col"},n.a.createElement("input",{type:"text",value:o,onChange:e=>d(e.target.value),className:"border border-gray-300 rounded-md p-1"}),n.a.createElement("div",{className:"flex justify-start space-x-4 mt-2"},n.a.createElement("button",{className:"text-blue-600 text-sm px-1 py-1",onClick:()=>{r(t.id,o),m(!1)}},"Update"),n.a.createElement("button",{className:"text-gray-600 text-sm px-1 py-1",onClick:()=>{d(t.title),m(!1)}},"Cancel"))):n.a.createElement(n.a.Fragment,null,n.a.createElement("span",{className:"text-base px-2 py-5"},t.title),t.children&&t.children.length>0&&n.a.createElement("button",{className:"text-gray-600 text-sm px-1 py-1",onClick:c},s?"\u25b2":"\u25bc"),n.a.createElement("button",{className:"text-red-600 ml-2 text-sm px-1 py-1",onClick:()=>a(t.id)},"Delete"),n.a.createElement("button",{className:"text-blue-600 ml-2 text-sm px-1 py-1",onClick:()=>m(!0)},"Edit"))),s&&t.children&&n.a.createElement("ul",{className:"ml-6"},t.children.map(e=>n.a.createElement(u,{key:e.id,item:e,onDelete:a,onEdit:r,isOpen:s,toggleOpen:c}))))};var d=()=>{const[e,t]=Object(l.useState)([]),[a,r]=Object(l.useState)([]),[s,c]=Object(l.useState)(""),[i,m]=Object(l.useState)(1),[d,p]=Object(l.useState)(""),[f,E]=Object(l.useState)(""),[h,g]=Object(l.useState)(null),[b,x]=Object(l.useState)({});Object(l.useEffect)(()=>{(async()=>{try{const e=await fetch("http://menu-system.infinityfreeapp.com/api/menus"),a=await e.json();t(a)}catch(e){console.error("Error fetching menus:",e)}})()},[]),Object(l.useEffect)(()=>{(async()=>{try{const e=await fetch("http://menu-system.infinityfreeapp.com/api/submenus"),t=await e.json();r(t)}catch(e){console.error("Error fetching menu items:",e)}})()},[]);const w=e=>{fetch("http://menu-system.infinityfreeapp.com/api/menu-items/"+e,{method:"DELETE"}).then(t=>{if(!t.ok)throw new Error("Failed to delete menu item");r(a.filter(t=>t.id!==e))}).catch(e=>{console.error("Error deleting menu item:",e)})},y=(e,t)=>{fetch("http://menu-system.infinityfreeapp.com/api/menu-items/"+e,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:t})}).then(e=>{if(!e.ok)throw new Error("Failed to update menu item");return e.json()}).then(t=>{r(a=>a.map(a=>a.id===e?t:a)),alert("Menu item updated successfully")}).catch(e=>{console.error("Error updating menu item:",e),alert("Failed to update menu item")})},v=e=>{x(t=>({...t,[e]:!t[e]}))},N=a.filter(e=>e.menu_id===parseInt(f)),k=e=>{const t={};a.forEach(a=>{t[a.id]=e}),x(t)};return n.a.createElement(n.a.Fragment,null,n.a.createElement(o,null),n.a.createElement("div",{className:"mx-auto mt-10 p-6 bg-white shadow-lg rounded-lg grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 lg:gap-10 text-black max-w-full h-full"},n.a.createElement("div",{className:"col-span-1"},n.a.createElement("div",{className:"flex mb-2"},n.a.createElement("button",{className:"w-full sm:w-auto py-2 px-4 text-sm bg-black text-white font-semibold rounded-md shadow-lg hover:bg-yellow-800 focus:outline-none focus:ring-2 focus:ring-gray-600 transition duration-150 ease-in-out",onClick:()=>k(!0)},"Expand All"),n.a.createElement("button",{className:"w-full sm:w-auto py-2 px-4 text-sm bg-white text-black font-semibold rounded-md shadow-lg hover:bg-yellow-800 focus:outline-none focus:ring-2 focus:ring-gray-600 transition duration-150 ease-in-out",onClick:()=>k(!1)},"Collapse All")),e.map(e=>{const t=(e=>{const t={},a=[];return e.forEach(e=>{t[e.id]={...e,children:[]}}),e.forEach(e=>{e.parent_id?t[e.parent_id]&&t[e.parent_id].children.push(t[e.id]):a.push(t[e.id])}),a})(a.filter(t=>t.menu_id===e.id));return n.a.createElement("div",{key:e.id},n.a.createElement("h4",{className:"text-lg font-semibold"},e.name,t.length>0&&n.a.createElement("button",{className:"text-gray-600 text-sm px-1 py-1",onClick:()=>v(e.id)},b[e.id]?"\u25b2":"\u25bc")),b[e.id]&&t.length>0&&n.a.createElement("ul",{className:"tree mt-2"},t.map(e=>n.a.createElement(u,{key:e.id,item:e,onDelete:w,onEdit:y,isOpen:b[e.id],toggleOpen:()=>v(e.id)}))))})),n.a.createElement("div",{className:"col-span-2"},n.a.createElement("form",{className:"space-y-5 text-left",onSubmit:e=>{var l;if(e.preventDefault(),!d)return void alert("Please fill in the title");const n=s?(null===(l=a.find(e=>e.id===parseInt(s)))||void 0===l?void 0:l.depth)+1:i;if(f)fetch("http://menu-system.infinityfreeapp.com/api/menu-items",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:d,parent_id:s||null,depth:n,menu_id:f})}).then(e=>e.ok?e.json():Promise.reject("Failed to add menu item")).then(e=>{alert("Menu item added successfully"),r(t=>[...t,e]),p(""),c("")}).catch(e=>alert(e));else{let e=d;fetch("http://menu-system.infinityfreeapp.com/api/menus",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e})}).then(e=>e.ok?e.json():Promise.reject("Failed to add menu")).then(e=>{alert("Menu added successfully"),t(t=>[...t,e]),p("")}).catch(e=>alert(e))}}},n.a.createElement("div",{className:"w-full"},n.a.createElement("label",{className:"block text-xxl font-medium text-left"},"Menu"),n.a.createElement("select",{value:f,onChange:t=>{const a=t.target.value;E(a);const l=e.find(e=>e.id===parseInt(a));g(l||null),c("")},className:"w-full border border-gray-300 rounded-md p-3 bg-white focus:outline-none focus:ring-2 focus:ring-blue-500 transition duration-150 ease-in-out"},n.a.createElement("option",{value:""},"Select Menu"),e.map(e=>n.a.createElement("option",{key:e.id,value:e.id},e.name)))),h&&n.a.createElement("div",{className:"flex flex-col space-y-4"},n.a.createElement("div",{className:"w-full"},n.a.createElement("label",{className:"block text-xxl font-medium text-left"},"Menu ID"),n.a.createElement("input",{type:"text",readOnly:!0,value:h.id,className:"w-full border border-gray-300 rounded-md p-3 bg-gray-200 focus:outline-none"}))),n.a.createElement("div",{className:"w-full"},n.a.createElement("label",{className:"block text-xxl font-medium text-left"},"Parent"),n.a.createElement("select",{value:s,onChange:e=>c(e.target.value),className:"border rounded-md p-2 w-full",disabled:!f},n.a.createElement("option",{value:""},"Select a parent (optional)"),N.map(e=>n.a.createElement("option",{key:e.id,value:e.id},e.title)))),n.a.createElement("div",{className:"w-full"},n.a.createElement("label",{className:"block text-xxl font-medium text-left"},"Title"),n.a.createElement("input",{type:"text",value:d,onChange:e=>p(e.target.value),className:"w-full border border-gray-300 rounded-md p-3 focus:outline-none focus:ring-2 focus:ring-blue-500 transition duration-150 ease-in-out"})),n.a.createElement("div",{className:"w-full text-left space-y-2"},n.a.createElement("button",{type:"submit",className:"mt-4 bg-blue-500 text-white rounded-md px-4 py-2"},"Save"))))))};var p=()=>n.a.createElement("div",{className:"flex"},n.a.createElement(m,null),n.a.createElement("div",{className:"flex-1"},n.a.createElement(d,null)));var f=e=>{e&&e instanceof Function&&a.e(3).then(a.bind(null,15)).then(t=>{let{getCLS:a,getFID:l,getFCP:n,getLCP:r,getTTFB:s}=t;a(e),l(e),n(e),r(e),s(e)})};s.a.createRoot(document.getElementById("root")).render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(p,null))),f()},4:function(e,t,a){e.exports=a(14)}},[[4,1,2]]]);
//# sourceMappingURL=main.18d73321.chunk.js.map